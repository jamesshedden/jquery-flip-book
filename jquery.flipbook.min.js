!function(a){a("<style type='text/css'> .flipbook__page--visible{ display: block; } </style>").appendTo("head"),a.fn.flipbook=function(b){var c=a.extend({page:"img",speed:100,inline:!0,autoplay:!0,wait:!0,play:"",stop:"",rewind:"",direction:"forwards",startFrom:1,rewindPlay:!1},b);return this.each(function(b,d){function e(b){var e=a(d).find(".flipbook__page--visible").index();"backwards"==b?(j=!1,0===e?(a(d).find(".flipbook__page--visible").hide().removeClass("flipbook__page--visible"),a(c.page,d).last().show().addClass("flipbook__page--visible")):a(d).find(".flipbook__page--visible").hide().removeClass("flipbook__page--visible").prev().show().addClass("flipbook__page--visible")):(j=!0,g-2>=e?a(d).find(".flipbook__page--visible").hide().removeClass("flipbook__page--visible").next().show().addClass("flipbook__page--visible"):(a(d).find(".flipbook__page--visible").hide().removeClass("flipbook__page--visible"),a(c.page,d).first().show().addClass("flipbook__page--visible")))}function f(a){e(a),k=setTimeout(function(){f(a)},c.speed)}var g=a(c.page,d).length;if(c.startFrom>g?a(c.page,d).eq(0).addClass("flipbook__page--visible"):a(c.page,d).eq(c.startFrom-1).addClass("flipbook__page--visible"),c.inline===!0){var h=a(c.page,d).first().width(),i=a(c.page,d).first().height();a(d).css({position:"relative",width:h,height:i}),a(c.page,d).css({position:"absolute",width:"100%",height:"100%",top:0,left:0})}var j,k,l=!1,m=function(){c.autoplay===!0&&f(c.direction)};c.wait===!0?a(d).ready(function(){m()}):m(),a(c.stop).on("click",function(a){a.preventDefault(),clearTimeout(k),l=!1}),a(c.play).on("click",function(a){return a.preventDefault(),l?!1:(f(j===!0?"forwards":j===!1?"backwards":c.direction),void(l=!0))}),a(c.rewind).on("click",function(a){a.preventDefault(),l&&(clearTimeout(k),f(j?"backwards":"forwards")),c.rewindPlay===!0&&(l=!0,j===!0||"forwards"==c.direction?f("backwards"):(j===!1||"backwards"==c.direction)&&f("forwards"))})})}}(jQuery);
